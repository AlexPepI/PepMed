<!DOCTYPE html>
<html lang="el">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap&subset=greek" rel="stylesheet">
  <meta charset="UTF-8">
  <title>Ιατρική Γνωμάτευση</title>
  <style>
    body {
      font-family: "Roboto", sans-serif;
      line-height: 1.5;
      font-size: x-small;
      margin: 0;
      padding: 0;
    }

    @page {
      size: A4;
      margin: 1cm;
    }

    .page {
      display: flex;
      flex-direction: column;
    }

    .header {
      border-bottom: 1px solid #3f82f8;
      background: #f5f5f5;
      display: flex;
      align-items: center;
      padding: 8px 12px;
    }
    .header-left { width: 30%; font-size: small; }
    .header-center { width: 40%; text-align: center; font-weight: bold; font-size: medium; }
    .header-right { width: 30%; font-size: x-small; text-align: right; }

    .content {
      flex: 1;
      padding: 20px;
    }
    .section-title {
      font-weight: bold;
      margin: 12px 0 6px 0;
      font-size: small;
    }
    .patient-info-table {
      width: 100%;
      border-collapse: collapse;
      table-layout: fixed;
      font-size: x-small;
      margin-bottom: 14px;
    }
    .patient-info-table th,
    .patient-info-table td {
      border: 1px solid #d6d6d6;
      padding: 6px 8px;
      vertical-align: top;
    }
    .label {
      background: #fafafa;
      font-weight: 600;
      white-space: nowrap;
    }
    .value {
      word-wrap: break-word;
      word-break: break-word;
      white-space: pre-line; 
    }
    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      border-top: 1px solid #3f82f8;
      display: flex;
      justify-content: space-between;
      font-size: x-small;
      padding: 6px 12px;
      background: #fff;
    }
  </style>
</head>
<body>
  <div class="page">

    <!-- HEADER -->
    <div class="header">
      <div class="header-left">
        <div><strong>{{clinic.name}}</strong></div>
        <div style="font-size: x-small;">{{clinic.address}}</div>
      </div>
      <div class="header-center">Ιατρική Γνωμάτευση</div>
      <div class="header-right">
        <div>Ημερομηνία : {{report.date}}</div>
      </div>
    </div>

    <!-- CONTENT -->
    <div class="content">
      <!-- Patient Information -->
      <div class="section-title">Στοιχεία Επισκέπτη</div>
      <table class="patient-info-table">
        <tbody>
          <tr>
            <td class="label">Ονοματεπώνυμο</td>
            <td class="value">{{visitor.name}} {{visitor.surname}}</td>
            <td class="label">ΑΜΚΑ / Αριθμός Μητρώου</td>
            <td class="value">{{visitor.amka}}</td>
          </tr>
          <tr>
            <td class="label">Φύλο</td>
            <td class="value">{{visitor.gender}}</td>
            <td class="label">Ημερομηνία Γέννησης</td>
            <td class="value">{{visitor.birth_date}}</td>
          </tr>
          <tr>
            <td class="label">Τηλέφωνο</td>
            <td class="value">{{visitor.phone}}</td>
            <td class="label">Email</td>
            <td class="value">{{visitor.email}}</td>
          </tr>
          <tr>
            <td class="label">Ύψος (cm)</td>
            <td class="value">{{visitor.height_cm}}</td>
            <td class="label">Βάρος (kg)</td>
            <td class="value">{{visitor.weight_kg}}</td>
          </tr>
          <tr>
            <td class="label">BMI</td>
            <td class="value">{{visitor.bmi}}</td>
            <td class="label">Καπνιστής / Pack Years</td>
            <td class="value">{{visitor.smoker}} / {{visitor.packyears}}</td>
          </tr>
        </tbody>
      </table>

      <!-- Medical History -->
      <div class="section-title">Ιατρικό Ιστορικό</div>
      <table class="patient-info-table">
        <tbody>
          <tr>
            <td class="label">Παθήσεις</td>
            <td class="value">{{visitor.diseases_list}}</td>
          </tr>
          <tr>
            <td class="label">Τρέχουσα Φαρμακευτική Αγωγή</td>
            <td class="value">{{visitor.medicines_list}}</td>
          </tr>
          <tr>
            <td class="label">Σημειώσεις Ιστορικού</td>
            <td class="value">{{visitor.history_notes}}</td>
          </tr>
        </tbody>
      </table>

      
      <div class="section-title">Στοιχεία Επίσκεψης</div>
      <table class="patient-info-table">
        <tbody>
          <tr>
            <td class="label">Λόγος Επίσκεψης</td>
            <td class="value">{{visit.reason}}</td>
          </tr>
          <tr>
            <td class="label">Συμπτώματα</td>
            <td class="value">{{visit.symptoms_list}}</td>
          </tr>
          <tr>
            <td class="label">Κλινική Εξέταση</td>
            <td class="value">{{visit.examination}}</td>
          </tr>
          <tr>
            <td class="label">Εργαστηριακός Έλεγχος</td>
            <td class="value">{{visit.lab_workup}}</td>
          </tr>
          <tr>
            <td class="label">Διάγνωση</td>
            <td class="value"><strong>{{visit.diagnosis}}</strong></td>
          </tr>
          <tr>
            <td class="label">Συστάσεις / Οδηγίες</td>
            <td class="value">{{visit.recommendations}}</td>
          </tr>
          <tr>
            <td class="label">Χορηγούμενα Φάρμακα</td>
            <td class="value">{{visit.medicines_list}}</td>
          </tr>
        </tbody>
      </table>

      <div class="section-title">Στοιχεία Ιατρού</div>
      <table class="patient-info-table">
        <tbody>
          <tr>
            <td class="value">Υπογραφή:<br><br>____________________________</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="footer">
      <div>{{clinic.name}} • {{clinic.phone}} • {{clinic.email}}</div>
    </div>
  </div>
</body>
</html>
