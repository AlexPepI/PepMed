<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Medical Report</title>
    <style>
      @font-face {
        font-family: "OpenSans";
        src: url("https://fonts.gstatic.com/s/opensans/v34/mem8YaGs126MiZpBA-UFVZ0e.ttf")
          format("truetype");
      }
      body {
        font-family: "OpenSans", sans-serif;
        line-height: 1.5;
        font-size: x-small;
        margin: 0;
        padding: 0;
      }

      @page {
        size: A4;
        margin: 1cm;
      }

      .page {
        display: flex;
        flex-direction: column;
      }

      .header {
        border-bottom: 1px solid #3f82f8;
        background: #f5f5f5;
        display: flex;
        align-items: center;
        padding: 8px 12px;
      }
      .header-left {
        width: 30%;
        font-size: small;
      }
      .header-center {
        width: 40%;
        text-align: center;
        font-weight: bold;
        font-size: medium;
      }
      .header-right {
        width: 30%;
        font-size: x-small;
        text-align: right;
      }

      .content {
        flex: 1;
        padding: 20px;
      }
      .section-title {
        font-weight: bold;
        margin: 12px 0 6px 0;
        font-size: small;
      }
      .patient-info-table {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed;
        font-size: x-small;
        margin-bottom: 14px;
      }
      .patient-info-table th,
      .patient-info-table td {
        border: 1px solid #d6d6d6;
        padding: 6px 8px;
        vertical-align: top;
      }
      .label {
        background: #fafafa;
        font-weight: 600;
        white-space: nowrap;
      }
      .value {
        word-wrap: break-word;
        word-break: break-word;
      }

      .footer {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        border-top: 1px solid #3f82f8;
        display: flex;
        justify-content: space-between;
        font-size: x-small;
        padding: 6px 12px;
        background: #fff;
      }
    </style>
  </head>
  <body>
    <div class="page">
      <!-- HEADER -->
      <div class="header">
        <div class="header-left">
          <div><strong>{{clinic.name}}</strong></div>
          <div>{{clinic.address}}</div>
        </div>
        <div class="header-center">Medical Report</div>
        <div class="header-right">
          <div>Report Date: {{report.date}}</div>
        </div>
      </div>

      <!-- CONTENT -->
      <div class="content">
        <!-- Patient Information -->
        <div class="section-title">Patient Information</div>
        <table class="patient-info-table">
          <tbody>
            <tr>
              <td class="label">Full Name</td>
              <td class="value">{{visitor.name}} {{visitor.surname}}</td>
              <td class="label">AMKA / Personal No.</td>
              <td class="value">{{visitor.amka}}</td>
            </tr>
            <tr>
              <td class="label">Gender</td>
              <td class="value">{{visitor.gender}}</td>
              <td class="label">Birth Date</td>
              <td class="value">{{visitor.birth_date}}</td>
            </tr>
            <tr>
              <td class="label">Phone</td>
              <td class="value">{{visitor.phone}}</td>
              <td class="label">Email</td>
              <td class="value">{{visitor.email}}</td>
            </tr>
            <tr>
              <td class="label">Height (cm)</td>
              <td class="value">{{visitor.height_cm}}</td>
              <td class="label">Weight (kg)</td>
              <td class="value">{{visitor.weight_kg}}</td>
            </tr>
            <tr>
              <td class="label">BMI</td>
              <td class="value">{{visitor.bmi}}</td>
              <td class="label">Smoker / Pack Years</td>
              <td class="value">{{visitor.smoker}} / {{visitor.packyears}}</td>
            </tr>
          </tbody>
        </table>

        <!-- Medical History -->
        <div class="section-title">Medical History</div>
        <table class="patient-info-table">
          <tbody>
            <tr>
              <td class="label">Conditions</td>
              <td class="value">{{visitor.diseases_list}}</td>
            </tr>
            <tr>
              <td class="label">Current Medications</td>
              <td class="value">{{visitor.medicines_list}}</td>
            </tr>
            <tr>
              <td class="label">History Notes</td>
              <td class="value">{{visitor.history_notes}}</td>
            </tr>
          </tbody>
        </table>

        <!-- Visit Information -->
        <div class="section-title">Visit Information</div>
        <table class="patient-info-table">
          <tbody>
            <tr>
              <td class="label">Visit Date &amp; Time</td>
              <td class="value">{{visit.date_time}}</td>
            </tr>
            <tr>
              <td class="label">Reason for Visit</td>
              <td class="value">{{visit.reason}}</td>
            </tr>
            <tr>
              <td class="label">Symptoms</td>
              <td class="value">{{visit.symptoms_list}}</td>
            </tr>
            <tr>
              <td class="label">Clinical Examination</td>
              <td class="value">{{visit.examination}}</td>
            </tr>
            <tr>
              <td class="label">Lab Workup</td>
              <td class="value">{{visit.lab_workup}}</td>
            </tr>
            <tr>
              <td class="label">Diagnosis</td>
              <td class="value"><strong>{{visit.diagnosis}}</strong></td>
            </tr>
            <tr>
              <td class="label">Recommendations / Instructions</td>
              <td class="value">{{visit.recommendations}}</td>
            </tr>
            <tr>
              <td class="label">Medicines Prescribed</td>
              <td class="value">{{visit.medicines_list}}</td>
            </tr>
          </tbody>
        </table>

        <!-- Doctor Info -->
        <div class="section-title">Doctor's Information</div>
        <table class="patient-info-table">
          <tbody>
            <tr>
              <td class="value">
                Doctor's Name: <strong>{{doctor.name}}</strong>
              </td>
              <td class="value">
                Signature:<br /><br />____________________________
              </td>
              <td class="value">Date: {{report.date}}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- FOOTER -->
      <div class="footer">
        <div>{{clinic.name}} • {{clinic.phone}} • {{clinic.email}}</div>
        <div>Page 1 of 1</div>
      </div>
    </div>
  </body>
</html>
